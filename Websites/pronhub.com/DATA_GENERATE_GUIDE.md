# æ•°æ®é‡æ–°ç”Ÿæˆå·¥å…·ä½¿ç”¨æŒ‡å—

## ğŸ“– æ¦‚è¿°

`generate_data.py` æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºä»æ•°æ®åº“é‡æ–°ç”Ÿæˆ `data` ç›®å½•ä¸‹é‡‡é›†æ–‡ä»¶çš„ç‹¬ç«‹å·¥å…·ã€‚å®ƒå¯ä»¥ä»ä¸¤ç§æ•°æ®æºé‡æ–°æ„å»ºå®Œæ•´çš„é‡‡é›†æ•°æ®ï¼š

1. **HTMLæ•°æ®åº“** (`pornhub.com.html.db`) - ä»ä¿å­˜çš„åŸå§‹HTMLé‡æ–°è§£æç”Ÿæˆ
2. **è§†é¢‘æ•°æ®åº“** (`pornhub_videos.db`) - ä»ç»“æ„åŒ–çš„è§†é¢‘æ•°æ®é‡æ–°ç”Ÿæˆ

## ğŸš€ åŸºæœ¬ä½¿ç”¨æ–¹æ³•

### 1. é‡æ–°ç”Ÿæˆæ‰€æœ‰æ•°æ®ï¼ˆæ¨èï¼‰
```bash
# ä»HTMLæ•°æ®åº“é‡æ–°ç”Ÿæˆæ‰€æœ‰æ•°æ®ï¼ˆé»˜è®¤ï¼‰
python generate_data.py

# æ˜ç¡®æŒ‡å®šä»HTMLæ•°æ®åº“ç”Ÿæˆ
python generate_data.py --source html
```

### 2. ä»è§†é¢‘æ•°æ®åº“ç”Ÿæˆ
```bash
# ä»ç»“æ„åŒ–è§†é¢‘æ•°æ®åº“ç”Ÿæˆ
python generate_data.py --source video
```

### 3. é™åˆ¶å¤„ç†æ•°é‡
```bash
# åªå¤„ç†æœ€æ–°çš„10ä¸ªè§†é¢‘
python generate_data.py --limit 10

# ä»è§†é¢‘æ•°æ®åº“å¤„ç†æœ€æ–°20ä¸ª
python generate_data.py --source video --limit 20
```

### 4. å¼ºåˆ¶æ›´æ–°å·²å­˜åœ¨çš„æ–‡ä»¶
```bash
# å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ‰€æœ‰æ–‡ä»¶ï¼ˆè¦†ç›–ç°æœ‰ï¼‰
python generate_data.py --update

# å¼ºåˆ¶æ›´æ–°å‰50ä¸ªè§†é¢‘
python generate_data.py --limit 50 --update
```

### 5. å¤„ç†æŒ‡å®šè§†é¢‘
```bash
# åªå¤„ç†æŒ‡å®šçš„è§†é¢‘ID
python generate_data.py --viewkey 65f9642b4a5f8

# å¼ºåˆ¶é‡æ–°å¤„ç†æŒ‡å®šè§†é¢‘
python generate_data.py --viewkey 65f9642b4a5f8 --update
```

### 6. æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
```bash
# æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†è¿‡ç¨‹
python generate_data.py --verbose

# æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯
python generate_data.py --stats
```

## ğŸ”§ å‚æ•°è¯¦è§£

| å‚æ•° | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `--source` | é€‰æ‹© | æ•°æ®æºï¼š`html`ï¼ˆé»˜è®¤ï¼‰æˆ– `video` | `--source html` |
| `--limit` | æ•°å­— | é™åˆ¶å¤„ç†çš„è§†é¢‘æ•°é‡ | `--limit 50` |
| `--update` | å¼€å…³ | å¼ºåˆ¶æ›´æ–°å·²å­˜åœ¨çš„æ–‡ä»¶ | `--update` |
| `--viewkey` | å­—ç¬¦ä¸² | åªå¤„ç†æŒ‡å®šçš„è§†é¢‘ID | `--viewkey abc123` |
| `--verbose` | å¼€å…³ | æ˜¾ç¤ºè¯¦ç»†å¤„ç†ä¿¡æ¯ | `--verbose` |
| `--stats` | å¼€å…³ | æ˜¾ç¤ºæ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯ | `--stats` |

## ğŸ“Š æ•°æ®æºå¯¹æ¯”

### HTMLæ•°æ®åº“æº (æ¨è)
- **ä¼˜ç‚¹**ï¼š
  - æ•°æ®æœ€å®Œæ•´ï¼ŒåŒ…å«åŸå§‹HTMLæ‰€æœ‰ä¿¡æ¯
  - å¯ä»¥é‡æ–°è§£æè·å–æœ€æ–°çš„æå–é€»è¾‘ç»“æœ
  - æ”¯æŒæ•°æ®ä¿®å¤å’Œè¡¥å…¨
- **ç¼ºç‚¹**ï¼š
  - å¤„ç†é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢
  - éœ€è¦é‡æ–°è§£æHTML

### è§†é¢‘æ•°æ®åº“æº
- **ä¼˜ç‚¹**ï¼š
  - å¤„ç†é€Ÿåº¦å¿«
  - ç›´æ¥ä½¿ç”¨ç»“æ„åŒ–æ•°æ®
- **ç¼ºç‚¹**ï¼š
  - æ•°æ®å¯èƒ½ä¸å®Œæ•´ï¼ˆå–å†³äºé‡‡é›†æ—¶çš„è§£æè´¨é‡ï¼‰
  - æ— æ³•è·å–HTMLä¸­çš„æ–°ä¿¡æ¯

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. æ•°æ®æ¢å¤
```bash
# dataç›®å½•ä¸¢å¤±ï¼Œä»HTMLæ•°æ®åº“æ¢å¤æ‰€æœ‰æ•°æ®
python generate_data.py --source html

# å¿«é€Ÿä»è§†é¢‘æ•°æ®åº“æ¢å¤åŸºæœ¬æ–‡ä»¶
python generate_data.py --source video
```

### 2. å¢é‡æ›´æ–°
```bash
# åªæ›´æ–°æœ€æ–°çš„100ä¸ªè§†é¢‘æ–‡ä»¶
python generate_data.py --limit 100

# å¼ºåˆ¶é‡æ–°ç”Ÿæˆæœ€è¿‘50ä¸ªè§†é¢‘
python generate_data.py --limit 50 --update
```

### 3. å•ä¸ªè§†é¢‘ä¿®å¤
```bash
# ä¿®å¤ç‰¹å®šè§†é¢‘çš„æ–‡ä»¶
python generate_data.py --viewkey 65f9642b4a5f8 --update --verbose
```

### 4. æ‰¹é‡æµ‹è¯•
```bash
# æµ‹è¯•å‰10ä¸ªè§†é¢‘çš„ç”Ÿæˆæ•ˆæœ
python generate_data.py --limit 10 --verbose
```

## ğŸ“‚ ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„

æ¯ä¸ªè§†é¢‘ä¼šåœ¨ `data/{viewkey}/` ç›®å½•ä¸‹ç”Ÿæˆï¼š

```
data/
â”œâ”€â”€ 65f9642b4a5f8/
â”‚   â”œâ”€â”€ index.html          # è§†é¢‘å±•ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ thumbnail.jpg       # ç¼©ç•¥å›¾æ–‡ä»¶
â”‚   â”œâ”€â”€ preview.webm        # é¢„è§ˆè§†é¢‘æ–‡ä»¶
â”‚   â””â”€â”€ collection_log.txt  # é‡‡é›†æ—¥å¿—æ–‡ä»¶
â””â”€â”€ ...
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### å¤šçº¿ç¨‹ä¸‹è½½
å·¥å…·ä¼šè‡ªåŠ¨å¯ç”¨å¤šçº¿ç¨‹ä¸‹è½½ç¼©ç•¥å›¾å’Œé¢„è§ˆè§†é¢‘ï¼Œæé«˜å¤„ç†æ•ˆç‡ã€‚

### æ™ºèƒ½è·³è¿‡
- é»˜è®¤è·³è¿‡å·²å­˜åœ¨ä¸”å®Œæ•´çš„æ–‡ä»¶
- ä½¿ç”¨ `--update` å¼ºåˆ¶é‡æ–°ç”Ÿæˆ

### å†…å­˜ç®¡ç†
- æ‰¹é‡å¤„ç†æ—¶è‡ªåŠ¨ç®¡ç†å†…å­˜ä½¿ç”¨
- å¤§é‡æ•°æ®æ—¶å»ºè®®åˆ†æ‰¹å¤„ç†ï¼š`--limit 100`

## ğŸ› ï¸ æ•…éšœæ’é™¤

### 1. æ•°æ®åº“è¿æ¥é”™è¯¯
```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
python generate_data.py --stats
```

### 2. æ–‡ä»¶æƒé™é—®é¢˜
ç¡®ä¿æœ‰ `data` ç›®å½•çš„å†™å…¥æƒé™

### 3. ç½‘ç»œä¸‹è½½å¤±è´¥
```bash
# ä½¿ç”¨è¯¦ç»†æ¨¡å¼æŸ¥çœ‹é”™è¯¯
python generate_data.py --verbose
```

### 4. å†…å­˜ä¸è¶³
```bash
# å‡å°‘æ‰¹å¤„ç†æ•°é‡
python generate_data.py --limit 50
```

## ğŸ“ æ—¥å¿—å’Œè¾“å‡º

### å¤„ç†ç»Ÿè®¡
```
ğŸ“Š å¤„ç†ç»Ÿè®¡:
  - æˆåŠŸå¤„ç†: 45
  - å¤„ç†å¤±è´¥: 2  
  - è·³è¿‡: 3
  - æ€»è®¡: 50
```

### è¯¦ç»†æ¨¡å¼è¾“å‡º
ä½¿ç”¨ `--verbose` å‚æ•°å¯ä»¥çœ‹åˆ°ï¼š
- æ¯ä¸ªè§†é¢‘çš„å¤„ç†çŠ¶æ€
- æ–‡ä»¶ä¸‹è½½è¿›åº¦
- é”™è¯¯è¯¦æƒ…å’Œå †æ ˆä¿¡æ¯

## ğŸ”„ ä¸app.pyçš„å…³ç³»

- `generate_data.py` æ˜¯ç‹¬ç«‹å·¥å…·ï¼Œè°ƒç”¨ `app.py` ä¸­çš„åŠŸèƒ½
- ä¸å½±å“æ­£å¸¸çš„é‡‡é›†æµç¨‹
- å¯ä»¥ä¸ `app.py --regenerate` åŠŸèƒ½äº’è¡¥ä½¿ç”¨

## ğŸ’¡ æœ€ä½³å®è·µ

1. **é¦–æ¬¡ä½¿ç”¨**ï¼šå»ºè®®å…ˆç”¨ `--limit 5 --verbose` æµ‹è¯•
2. **å¤§æ‰¹é‡å¤„ç†**ï¼šä½¿ç”¨ `--limit` åˆ†æ‰¹å¤„ç†é¿å…å†…å­˜é—®é¢˜
3. **æ•°æ®æ¢å¤**ï¼šä¼˜å…ˆä½¿ç”¨ `--source html` è·å¾—æœ€å®Œæ•´æ•°æ®
4. **å¿«é€Ÿé¢„è§ˆ**ï¼šä½¿ç”¨ `--source video` å¿«é€Ÿç”ŸæˆåŸºæœ¬æ–‡ä»¶
5. **é—®é¢˜è°ƒè¯•**ï¼šå§‹ç»ˆä½¿ç”¨ `--verbose` å‚æ•°æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

---

ğŸ“ **éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹ `README.md` æˆ–ä½¿ç”¨ `python generate_data.py --help` 